<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wenyisir.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Shell 编程变量变量定义Shell 支持以下三种定义变量的方式： 123variable&#x3D;valuevariable&#x3D;&amp;#x27;value&amp;#x27;variable&#x3D;&quot;value&quot;">
<meta property="og:type" content="article">
<meta property="og:title" content="Shell 编程">
<meta property="og:url" content="http://wenyisir.github.io/2022/12/03/Linux/shell/index.html">
<meta property="og:site_name" content="文溢の博客">
<meta property="og:description" content="Shell 编程变量变量定义Shell 支持以下三种定义变量的方式： 123variable&#x3D;valuevariable&#x3D;&amp;#x27;value&amp;#x27;variable&#x3D;&quot;value&quot;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://wenyisir.github.io/2022/12/03/Linux/shell/alias.jpg">
<meta property="article:published_time" content="2022-12-03T09:22:12.000Z">
<meta property="article:modified_time" content="2023-04-28T09:22:09.998Z">
<meta property="article:author" content="wenyi">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://wenyisir.github.io/2022/12/03/Linux/shell/alias.jpg">

<link rel="canonical" href="http://wenyisir.github.io/2022/12/03/Linux/shell/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Shell 编程 | 文溢の博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="文溢の博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">文溢の博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">study is a lifelong journey!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://wenyisir.github.io/2022/12/03/Linux/shell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="wenyi">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="文溢の博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Shell 编程
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-12-03 17:22:12" itemprop="dateCreated datePublished" datetime="2022-12-03T17:22:12+08:00">2022-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-28 17:22:09" itemprop="dateModified" datetime="2023-04-28T17:22:09+08:00">2023-04-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">Linux笔记</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Shell-编程"><a href="#Shell-编程" class="headerlink" title="Shell 编程"></a>Shell 编程</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h3><p>Shell 支持以下三种定义变量的方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">variable=value</span><br><span class="line">variable=&#x27;value&#x27;</span><br><span class="line">variable=&quot;value&quot;</span><br></pre></td></tr></table></figure>
<p>variable 是变量名，value 是赋给变量的值。如果 value 不包含任何空白符（例如空格、Tab 缩进等），那么可以不使用引号；如果 value 包含了空白符，那么就必须使用引号包围起来。<strong>其中，赋值号<code>=</code>的周围不能有空格。</strong></p>
<p><strong>单引号和双引号的区别：</strong></p>
<p>以单引号<code>&#39; &#39;</code>包围变量的值时，单引号里面是什么就输出什么，即使内容中有变量和命令（命令需要反引起来）也会把它们原样输出。这种方式比较适合定义显示纯字符串的情况，即不希望解析变量、命令等的场景。</p>
<p>以双引号<code>&quot; &quot;</code>包围变量的值时，输出时会先解析里面的变量和命令，而不是把双引号中的变量名和命令原样输出。这种方式比较适合字符串中附带有变量和命令并且想将其解析后再输出的变量定义。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">name=&#x27;xwy&#x27;</span><br><span class="line">seq1=&#x27;my name is $&#123;name&#125;&#x27;</span><br><span class="line">seq2=&quot;my name is $&#123;name&#125;&quot;</span><br><span class="line">echo $seq1</span><br><span class="line">echo $seq2</span><br></pre></td></tr></table></figure>
<p>Shell 也支持将命令的执行结果赋值给变量，常见的有以下两种方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">variable=`command`</span><br><span class="line">variable=$(command)</span><br></pre></td></tr></table></figure>
<p>注意，如果被替换的命令的输出内容包括多行（也即有换行符），或者含有多个连续的空白符，那么在输出变量时应该将变量用双引号包围，否则系统会使用默认的空白符来填充，这会导致换行无效，以及连续的空白符被压缩成一个。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">LSL=`ls -l`</span><br><span class="line">echo $LSL  #不使用双引号包围</span><br><span class="line">echo &quot;--------------------------&quot;  #输出分隔符</span><br><span class="line">echo &quot;$LSL&quot;  #使用引号包围</span><br></pre></td></tr></table></figure>
<p>位置参数：</p>
<p>运行 Shell 脚本文件时我们可以给它传递一些参数，这些参数在脚本文件内部可以使用<code>$n</code>的形式来接收。同样，在调用函数时也可以传递参数。</p>
<p>特殊变量：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>变量</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>$0</td>
<td>当前脚本的文件名。</td>
</tr>
<tr>
<td>$n（n≥1）</td>
<td>传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是 $1，第二个参数是 $2。</td>
</tr>
<tr>
<td>$#</td>
<td>传递给脚本或函数的参数个数。</td>
</tr>
<tr>
<td>$*</td>
<td>传递给脚本或函数的所有参数。</td>
</tr>
<tr>
<td>$@</td>
<td>传递给脚本或函数的所有参数。当被双引号<code>&quot; &quot;</code>包含时，$@ 与 $* 稍有不同。</td>
</tr>
<tr>
<td>$?</td>
<td>上个命令的退出状态，或函数的返回值。</td>
</tr>
<tr>
<td>$$</td>
<td>当前 Shell 进程 ID。对于 Shell 脚本，就是这些脚本所在的进程 ID。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串可以由单引号<code>&#39; &#39;</code>包围，也可以由双引号<code>&quot; &quot;</code>包围，也可以不用引号。</p>
<p>区别如下：</p>
<p>由单引号<code>&#39; &#39;</code>包围的字符串：</p>
<ul>
<li>任何字符都会原样输出，在其中使用变量是无效的。</li>
<li>字符串中不能出现单引号，即使对单引号进行转义也不行。</li>
</ul>
<p>由双引号<code>&quot; &quot;</code>包围的字符串：</p>
<ul>
<li>如果其中包含了某个变量，那么该变量会被解析（得到该变量的值），而不是原样输出。</li>
<li>字符串中可以出现双引号，只要它被转义了就行。</li>
</ul>
<p>不被引号包围的字符串</p>
<ul>
<li>不被引号包围的字符串中出现变量时也会被解析，这一点和双引号<code>&quot; &quot;</code>包围的字符串一样。</li>
<li>字符串中不能出现空格，否则空格后边的字符串会作为其他变量或者命令解析。</li>
</ul>
<h4 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a><strong>获取字符串长度</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;#string_name&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a><strong>字符串拼接</strong></h4><p>不需要使用任何运算符，直接将两个字符串放在一起就好。</p>
<h4 id="字符串截取"><a href="#字符串截取" class="headerlink" title="字符串截取"></a><strong>字符串截取</strong></h4><h5 id="从字符串左边开始计数"><a href="#从字符串左边开始计数" class="headerlink" title="从字符串左边开始计数"></a>从字符串左边开始计数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;str:start:length&#125;</span><br></pre></td></tr></table></figure>
<p>其中 str 为要被截取的字符串，start为起始位置，length为长度（可省略）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wenyi@ubuntu:~$ s=&quot;abcde&quot;</span><br><span class="line">wenyi@ubuntu:~$ echo $&#123;s:2:2&#125;</span><br><span class="line">cd</span><br><span class="line">wenyi@ubuntu:~$ echo $&#123;s:2&#125;</span><br><span class="line">cde</span><br></pre></td></tr></table></figure>
<h5 id="从右边开始计数"><a href="#从右边开始计数" class="headerlink" title="从右边开始计数"></a>从右边开始计数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;str:0-start:length&#125;</span><br></pre></td></tr></table></figure>
<p>用法与从左边开始计数相同。</p>
<h5 id="从指定字符开始截取字符串"><a href="#从指定字符开始截取字符串" class="headerlink" title="从指定字符开始截取字符串"></a>从指定字符开始截取字符串</h5><p><strong>使用 # 号截取右边字符</strong></p>
<p>使用<code>#</code>号可以截取指定字符（或者子字符串）右边的所有字符，具体格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;string#*chars&#125;</span><br></pre></td></tr></table></figure>
<p>其中，string 表示要截取的字符，chars 是指定的字符（或者子字符串），<code>*</code>是通配符的一种，表示任意长度的字符串。<code>*chars</code>连起来使用的意思是：忽略左边的所有字符，直到遇见 chars（chars 不会被截取）。</p>
<p>如果希望直到最后一个指定字符（子字符串）再匹配结束，那么可以使用<code>##</code>，具体格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;string##*chars&#125;</span><br></pre></td></tr></table></figure>
<p><strong>使用 % 号截取左边字符</strong></p>
<p>使用方法与 # 基本一致，这里不再过多赘述。</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>Shell 中，用括号<code>()</code>来表示数组，数组元素之间用空格来分隔。由此，定义数组的一般形式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_name=(ele1  ele2  ele3 ... elen)</span><br></pre></td></tr></table></figure>
<p>Shell 是弱类型的，它并不要求所有数组元素的类型必须相同。</p>
<p>Shell 数组的长度不是固定的，定义之后还可以增加元素，赋值时也无需按序赋值，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ages=([3]=24 [5]=19 [10]=12)</span><br></pre></td></tr></table></figure>
<h3 id="获取数组元素"><a href="#获取数组元素" class="headerlink" title="获取数组元素"></a>获取数组元素</h3><p>获取数组元素的值，一般使用下面的格式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;array_name[index]&#125;</span></span><br></pre></td></tr></table></figure>
<p>使用<code>@</code>或<code>*</code>可以获取数组中的所有元素，例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;nums[*]&#125;</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;nums[@]&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="获取数组长度"><a href="#获取数组长度" class="headerlink" title="获取数组长度"></a>获取数组长度</h3><p>利用<code>@</code>或<code>*</code>，可以将数组扩展成列表，然后使用<code>#</code>来获取数组元素的个数，格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">&#123;<span class="comment">#array_name[@]&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;<span class="comment">#array_name[*]&#125;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="数组拼接"><a href="#数组拼接" class="headerlink" title="数组拼接"></a>数组拼接</h3><p>拼接数组的思路是：先利用@或*，将数组扩展成列表，然后再合并到一起。具体格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array_new=($&#123;array1[@]&#125;  $&#123;array2[@]&#125;)</span><br><span class="line">array_new=($&#123;array1[*]&#125;  $&#123;array2[*]&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="删除数组（元素）"><a href="#删除数组（元素）" class="headerlink" title="删除数组（元素）"></a>删除数组（元素）</h3><p>使用 unset 关键字来删除数组元素，具体格式如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset array_name[index]</span><br></pre></td></tr></table></figure>
<p>其中，array_name 表示数组名，index 表示数组下标。</p>
<p>如果不写下标，而是写成下面的形式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset array_name</span><br></pre></td></tr></table></figure>
<p>那么就是删除整个数组，所有元素都会消失。</p>
<h2 id="内建命令"><a href="#内建命令" class="headerlink" title="内建命令"></a>内建命令</h2><p>内建命令就是bash自身提供的文件，而不是自己定义的某个可执行文件。</p>
<p>可以使用 type 来确定一个命令是否是内建命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# type cd</span><br><span class="line">cd is a Shell builtin</span><br><span class="line">[root@localhost ~]# type ifconfig</span><br><span class="line">ifconfig is /sbin/ifconfig</span><br></pre></td></tr></table></figure>
<h3 id="alisa-命令"><a href="#alisa-命令" class="headerlink" title="alisa 命令"></a>alisa 命令</h3><p>alisa 用来给命令创建一个别名。若直接输入该命令且不带任何参数，则列出当前 Shell 进程中使用了哪些别名。</p>
<p><img src="/2022/12/03/Linux/shell/alias.jpg" alt="alias"></p>
<p><strong>使用alisa命令自定义别名：</strong></p>
<p>使用 alias 命令自定义别名的语法格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias new_name=&#x27;command&#x27;</span><br></pre></td></tr></table></figure>
<p>比如，一般的关机命令是<code>shutdown-h now</code>，写起来比较长，这时可以重新定义一个关机命令，以后就方便多了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias myShutdown=&#x27;shutdown -h now&#x27;</span><br></pre></td></tr></table></figure>
<p><strong>别名只是临时的</strong>。在代码中使用 alias 命令定义的别名只能在当前 Shell 进程中使用，在子进程和其它进程中都不能使用。当前 Shell 进程结束后，别名也随之消失。要想让别名对所有的 Shell 进程都有效，就得把别名写入 Shell 配置文件。</p>
<p><strong>使用 unalias 命令删除别名：</strong></p>
<p>使用 unalias 内建命令可以删除当前 Shell 进程中的别名。unalias 有两种使用方法：</p>
<ul>
<li>第一种用法是在命令后跟上某个命令的别名，用于删除指定的别名。</li>
<li>第二种用法是在命令后接<code>-a</code>参数，删除当前 Shell 进程中所有的别名。</li>
</ul>
<h3 id="echo-命令"><a href="#echo-命令" class="headerlink" title="echo 命令"></a>echo 命令</h3><p>echo用来在终端输出字符串，并默认加上换行符。如果不希望换行，可以加上<code>-n</code>参数</p>
<p>echo输出转义字符：默认情况下，echo 不会解析以反斜杠<code>\</code>开头的转义字符。比如，<code>\n</code>表示换行，echo 默认会将它作为普通字符对待。我们可以添加<code>-e</code>参数来让 echo 命令解析转义字符。</p>
<h3 id="read-命令"><a href="#read-命令" class="headerlink" title="read 命令"></a>read 命令</h3><p>用来从标准输入中读取数据并赋值给变量。如果没有进行重定向，默认就是从键盘读取用户输入的数据；如果进行了重定向，那么可以从文件中读取数据。</p>
<p>read 命令的用法为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read [-options] [variables]</span><br></pre></td></tr></table></figure>
<p><code>options</code>表示选项，如下表所示；<code>variables</code>表示用来存储数据的变量，可以有一个，也可以有多个。<code>options</code>和<code>variables</code>都是可选的，如果没有提供变量名，那么读取的数据将存放到环境变量 REPLY 中。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a array</td>
<td>把读取的数据赋值给数组 array，从下标 0 开始。</td>
</tr>
<tr>
<td>-d delimiter</td>
<td>用字符串 delimiter 指定读取结束的位置，而不是一个换行符（读取到的数据不包括 delimiter）。</td>
</tr>
<tr>
<td>-e</td>
<td>在获取用户输入的时候，对功能键进行编码转换，不会直接显式功能键对应的字符。</td>
</tr>
<tr>
<td>-n num</td>
<td>读取 num 个字符，而不是整行字符。</td>
</tr>
<tr>
<td>-p prompt</td>
<td>显示提示信息，提示内容为 prompt。</td>
</tr>
<tr>
<td>-r</td>
<td>原样读取（Raw mode），不把反斜杠字符解释为转义字符。</td>
</tr>
<tr>
<td>-s</td>
<td>静默模式（Silent mode），不会在屏幕上显示输入的字符。当输入密码和其它确认信息的时候，这是很有必要的。</td>
</tr>
<tr>
<td>-t seconds</td>
<td>设置超时时间，单位为秒。如果用户没有在指定时间内输入完成，那么 read 将会返回一个非 0 的退出状态，表示读取失败。</td>
</tr>
<tr>
<td>-u fd</td>
<td>使用文件描述符 fd 作为输入源，而不是标准输入，类似于重定向。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="declare-命令"><a href="#declare-命令" class="headerlink" title="declare 命令"></a>declare 命令</h3><p>declare 命令的用法如下所示：</p>
<p>declare [+/-] [aAfFgilprtux] [变量名=变量值]</p>
<p>其中，<code>-</code>表示设置属性，<code>+</code>表示取消属性，<code>aAfFgilprtux</code>都是具体的选项，它们的含义如下表所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f [name]</td>
<td>列出之前由用户在脚本中定义的函数名称和函数体。</td>
</tr>
<tr>
<td>-F [name]</td>
<td>仅列出自定义函数名称。</td>
</tr>
<tr>
<td>-g name</td>
<td>在 Shell 函数内部创建全局变量。</td>
</tr>
<tr>
<td>-p [name]</td>
<td>显示指定变量的属性和值。</td>
</tr>
<tr>
<td>-a name</td>
<td>声明变量为普通数组。</td>
</tr>
<tr>
<td>-A name</td>
<td>声明变量为关联数组（支持索引下标为字符串）。</td>
</tr>
<tr>
<td>-i name</td>
<td>将变量定义为整数型。</td>
</tr>
<tr>
<td>-r name[=value]</td>
<td>将变量定义为只读（不可修改和删除），等价于 readonly name。</td>
</tr>
<tr>
<td>-x name[=value]</td>
<td>将变量设置为环境变量，等价于 export name[=value]。</td>
</tr>
</tbody>
</table>
</div>
<h2 id="数学计算"><a href="#数学计算" class="headerlink" title="数学计算"></a>数学计算</h2><p>Shell 中常用的六种数学计算方式</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算操作符/运算命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>(( ))</td>
<td>用于整数运算，效率很高，<strong>推荐使用</strong>。</td>
</tr>
<tr>
<td>let</td>
<td>用于整数运算，和 (()) 类似。</td>
</tr>
<tr>
<td>$[]</td>
<td>用于整数运算，不如 (()) 灵活。</td>
</tr>
<tr>
<td>expr</td>
<td>可用于整数运算，也可以处理字符串。比较麻烦，需要注意各种细节，不推荐使用。</td>
</tr>
<tr>
<td>bc</td>
<td>Linux下的一个计算器程序，可以处理整数和小数。Shell 本身只支持整数运算，想计算小数就得使用 bc 这个外部的计算器。</td>
</tr>
<tr>
<td>declare -i</td>
<td>将变量定义为整数，然后再进行数学运算时就不会被当做字符串了。功能有限，仅支持最基本的数学运算（加减乘除和取余），不支持逻辑运算、自增自减等，所以在实际开发中很少使用。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="操作"><a href="#操作" class="headerlink" title="(())操作"></a>(())操作</h3><p>双小括号 (( )) 的语法格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((表达式))</span><br></pre></td></tr></table></figure>
<p>双括号内表达式可以是一个或者多个，多个表达式时表达式以逗号隔开，以最后一个表达式的值作为最后运算结果。</p>
<p>用<code>$(())</code>来获取表达式的值。</p>
<p><strong>注意，使用变量时不用加<code>$</code>前缀，(( )) 会自动解析变量名。</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wenyi@ubuntu :~$ a=3</span><br><span class="line">wenyi@ubuntu :~$ b=$((a+3))</span><br><span class="line">wenyi@ubuntu :~$ echo $((a+b))</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<h3 id="let命令"><a href="#let命令" class="headerlink" title="let命令"></a>let命令</h3><p><code>let</code> 命令和<code>(())</code>操作类似。</p>
<p>Shell let 命令的语法格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let 表达式</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &quot;表达式&quot;</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &#x27;表达式&#x27;</span><br></pre></td></tr></table></figure>
<p>它们都等价于<code>((表达式))</code>。</p>
<h2 id="判断语句"><a href="#判断语句" class="headerlink" title="判断语句"></a>判断语句</h2><h3 id="if-elif-else-语句"><a href="#if-elif-else-语句" class="headerlink" title="if elif else 语句"></a>if elif else 语句</h3><p>Shell 支持任意数目的分支，当分支比较多时，可以使用 <code>if elif else</code> 结构，它的格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">if condition1</span><br><span class="line">then</span><br><span class="line">  statement1</span><br><span class="line">elif condition2</span><br><span class="line">then</span><br><span class="line">  statement2</span><br><span class="line">elif condition3</span><br><span class="line">then</span><br><span class="line">  statement3</span><br><span class="line">……</span><br><span class="line">else</span><br><span class="line">  statementn</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="case-in语句"><a href="#case-in语句" class="headerlink" title="case in语句"></a>case in语句</h3><p>基本格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">case expression in</span><br><span class="line">    pattern1)</span><br><span class="line">        statement1</span><br><span class="line">        ;;</span><br><span class="line">    pattern2)</span><br><span class="line">        statement2</span><br><span class="line">        ;;</span><br><span class="line">    pattern3)</span><br><span class="line">        statement3</span><br><span class="line">        ;;</span><br><span class="line">    ……</span><br><span class="line">    *)</span><br><span class="line">        statementn</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p>case in 的 pattern 部分支持简单的正则表达式，具体来说，可以使用以下几种格式：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>表示任意字符串。</td>
</tr>
<tr>
<td>[abc]</td>
<td>表示 a、b、c 三个字符中的任意一个。比如，[15ZH] 表示 1、5、Z、H 四个字符中的任意一个。</td>
</tr>
<tr>
<td>[m-n]</td>
<td>表示从 m 到 n 的任意一个字符。比如，[0-9] 表示任意一个数字，[0-9a-zA-Z] 表示字母或数字。</td>
</tr>
<tr>
<td>\</td>
<td></td>
<td>表示多重选择，类似逻辑运算中的或运算。比如，abc \</td>
<td>xyz 表示匹配字符串 “abc” 或者 “xyz”。</td>
</tr>
</tbody>
</table>
</div>
<p>其中：最后一个分支<code>*)</code>并不是什么语法规定，它只是一个正则表达式，<code>*</code>表示任意字符串，所以不管 expression 的值是什么，<code>*)</code>总能匹配成功。</p>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><p><code>for</code>循环有两种形式：</p>
<h4 id="C语言风格："><a href="#C语言风格：" class="headerlink" title="C语言风格："></a>C语言风格：</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((exp1; exp2; exp3))</span><br><span class="line">do</span><br><span class="line">    statements</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h4 id="python风格"><a href="#python风格" class="headerlink" title="python风格"></a>python风格</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for variable in value_list</span><br><span class="line">do</span><br><span class="line">    statements</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>variable 表示变量，value_list 表示取值列表，in 是 Shell 中的关键字。</p>
<h5 id="对-value-list-的说明"><a href="#对-value-list-的说明" class="headerlink" title="对 value_list 的说明"></a>对 value_list 的说明</h5><h6 id="1-直接给出具体的值"><a href="#1-直接给出具体的值" class="headerlink" title="1. 直接给出具体的值"></a>1. 直接给出具体的值</h6><p>可以在 in 关键字后面直接给出具体的值，多个值之间以空格分隔，比如<code>1 2 3 4 5</code>、<code>&quot;abc&quot; &quot;390&quot; &quot;tom&quot;</code>等。</p>
<h6 id="2-给出一个取值范围"><a href="#2-给出一个取值范围" class="headerlink" title="2. 给出一个取值范围"></a>2. 给出一个取值范围</h6><p>给出一个取值范围的具体格式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;start..end&#125;</span><br></pre></td></tr></table></figure>
<p>start 表示起始值，end 表示终止值；注意中间用两个点号相连，而不是三个点号。</p>
<h6 id="3-使用命令的执行结果"><a href="#3-使用命令的执行结果" class="headerlink" title="3. 使用命令的执行结果"></a>3. 使用命令的执行结果</h6><p>使用反引号或者<code>$()</code>都可以取得命令的执行结果。</p>
<p>给出下列的例子，计算从1~n的和。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br><span class="line">read n</span><br><span class="line">sum=0</span><br><span class="line">for i in $(seq 1 1 $n)</span><br><span class="line">do</span><br><span class="line">	((sum+=i))</span><br><span class="line">done</span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>Shell while 循环的用法如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">  statements</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p><code>condition</code>表示判断条件，<code>statements</code>表示要执行的语句（可以只有一条，也可以有多条），<code>do</code>和<code>done</code>都是 Shell 中的关键字。</p>
<h2 id="test命令-与-关键字"><a href="#test命令-与-关键字" class="headerlink" title="test命令 与 [[]] 关键字"></a>test命令 与 [[]] 关键字</h2><h3 id="test命令"><a href="#test命令" class="headerlink" title="test命令"></a>test命令</h3><p>test 是 Shell 内置命令，用来检测某个条件是否成立。test 通常和 if 语句一起使用，并且大部分 if 语句都依赖 test。</p>
<p>Shell test 命令的用法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test expression</span><br></pre></td></tr></table></figure>
<p>当 test 判断 expression 成立时，退出状态为 0，否则为非 0 值。</p>
<p>test 命令也可以简写为<code>[]</code>，它的用法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ expression ]</span><br></pre></td></tr></table></figure>
<p>注意<code>[]</code>和<code>expression</code>之间的空格，这两个空格是必须的，否则会导致语法错误。<code>[]</code>的写法更加简洁，比 test 使用频率高。</p>
<h4 id="与文件检测相关的-test-选项"><a href="#与文件检测相关的-test-选项" class="headerlink" title="与文件检测相关的 test 选项"></a>与文件检测相关的 test 选项</h4><p><strong>文件类型判断</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选 项</th>
<th>作 用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b filename</td>
<td>判断文件是否存在，并且是否为块设备文件。</td>
</tr>
<tr>
<td>-c filename</td>
<td>判断文件是否存在，并且是否为字符设备文件。</td>
</tr>
<tr>
<td>-d filename</td>
<td>判断文件是否存在，并且是否为目录文件。</td>
</tr>
<tr>
<td>-e filename</td>
<td>判断文件是否存在。</td>
</tr>
<tr>
<td>-f filename</td>
<td>判断文件是否存在，井且是否为普通文件。</td>
</tr>
<tr>
<td>-L filename</td>
<td>判断文件是否存在，并且是否为符号链接文件。</td>
</tr>
<tr>
<td>-p filename</td>
<td>判断文件是否存在，并且是否为管道文件。</td>
</tr>
<tr>
<td>-s filename</td>
<td>判断文件是否存在，并且是否为非空。</td>
</tr>
</tbody>
</table>
</div>
<p><strong>文件权限判断</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选 项</th>
<th>作 用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-r filename</td>
<td>判断文件是否存在，并且是否拥有读权限。</td>
</tr>
<tr>
<td>-w filename</td>
<td>判断文件是否存在，并且是否拥有写权限。</td>
</tr>
<tr>
<td>-x filename</td>
<td>判断文件是否存在，并且是否拥有执行权限。</td>
</tr>
<tr>
<td>-u filename</td>
<td>判断文件是否存在，并且是否拥有 SUID 权限。</td>
</tr>
<tr>
<td>-g filename</td>
<td>判断文件是否存在，并且是否拥有 SGID 权限。</td>
</tr>
<tr>
<td>-k filename</td>
<td>判断该文件是否存在，并且是否拥有 SBIT 权限。</td>
</tr>
</tbody>
</table>
</div>
<p><strong>文件比较</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>选 项</th>
<th>作 用</th>
</tr>
</thead>
<tbody>
<tr>
<td>filename1 -nt filename2</td>
<td>判断 filename1 的修改时间是否比 filename2 的新。</td>
</tr>
<tr>
<td>filename -ot filename2</td>
<td>判断 filename1 的修改时间是否比 filename2 的旧。</td>
</tr>
<tr>
<td>filename1 -ef filename2</td>
<td>判断 filename1 是否和 filename2 的 inode 号一致，可以理解为两个文件是否为同一个文件。这个判断用于判断硬链接是很好的方法</td>
</tr>
</tbody>
</table>
</div>
<h4 id="与数值比较相关的-test-选项"><a href="#与数值比较相关的-test-选项" class="headerlink" title="与数值比较相关的 test 选项"></a>与数值比较相关的 test 选项</h4><div class="table-container">
<table>
<thead>
<tr>
<th>选 项</th>
<th>作 用</th>
</tr>
</thead>
<tbody>
<tr>
<td>num1 -eq num2</td>
<td>判断 num1 是否和 num2 相等。</td>
</tr>
<tr>
<td>num1 -ne num2</td>
<td>判断 num1 是否和 num2 不相等。</td>
</tr>
<tr>
<td>num1 -gt num2</td>
<td>判断 num1 是否大于 num2 。</td>
</tr>
<tr>
<td>num1 -lt num2</td>
<td>判断 num1 是否小于 num2。</td>
</tr>
<tr>
<td>num1 -ge num2</td>
<td>判断 num1 是否大于等于 num2。</td>
</tr>
<tr>
<td>num1 -le num2</td>
<td>判断 num1 是否小于等于 num2。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="与字符串判断相关的-test-选项"><a href="#与字符串判断相关的-test-选项" class="headerlink" title="与字符串判断相关的 test 选项"></a>与字符串判断相关的 test 选项</h4><div class="table-container">
<table>
<thead>
<tr>
<th>选 项</th>
<th>作 用</th>
</tr>
</thead>
<tbody>
<tr>
<td>-z str</td>
<td>判断字符串 str 是否为空。</td>
</tr>
<tr>
<td>-n str</td>
<td>判断宇符串 str 是否为非空。</td>
</tr>
<tr>
<td>str1 = str2 str1 == str2</td>
<td><code>=</code>和<code>==</code>是等价的，都用来判断 str1 是否和 str2 相等。</td>
</tr>
<tr>
<td>str1 != str2</td>
<td>判断 str1 是否和 str2 不相等。</td>
</tr>
<tr>
<td>str1 > str2</td>
<td>判断 str1 是否大于 str2。<code>\&gt;</code>是<code>&gt;</code>的转义字符，这样写是为了防止<code>&gt;</code>被误认为成重定向运算符。</td>
</tr>
<tr>
<td>str1 \&lt; str2</td>
<td>判断 str1 是否小于 str2。同样，<code>\&lt;</code>也是转义字符。</td>
</tr>
</tbody>
</table>
</div>
<p><strong>在 test 中使用变量建议用双引号包围起来</strong></p>
<h3 id="命令"><a href="#命令" class="headerlink" title="[[]] 命令"></a>[[]] 命令</h3><p><code>[[ ]]</code>是 Shell 内置关键字，它和 test 命令类似，也用来检测某个条件是否成立。</p>
<h4 id="支持逻辑运算符"><a href="#支持逻辑运算符" class="headerlink" title="[[ ]] 支持逻辑运算符"></a>[[ ]] 支持逻辑运算符</h4><p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[ -z $str1 || -z $str2 ]]</span><br></pre></td></tr></table></figure>
<h4 id="支持正则表达式"><a href="#支持正则表达式" class="headerlink" title="[[ ]] 支持正则表达式"></a>[[ ]] 支持正则表达式</h4><p>在 Shell [[ ]] 中，可以使用<code>=~</code>来检测字符串是否符合某个正则表达式，它的用法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[ str =~ regex ]]</span><br></pre></td></tr></table></figure>
<p>str 表示字符串，regex 表示正则表达式。</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>Shell 函数定义的语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function name() &#123;</span><br><span class="line">  statements</span><br><span class="line">  [return value]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对各个部分的说明：</p>
<ul>
<li><code>function</code>是 Shell 中的关键字，专门用来定义函数；</li>
<li><code>name</code>是函数名；</li>
<li><code>statements</code>是函数要执行的代码，也就是一组语句；</li>
<li><code>return value</code>表示函数的返回值，其中 return 是 Shell 关键字，专门用在函数中返回一个值；这一部分可以写也可以不写。</li>
</ul>
<p>由<code>&#123; &#125;</code>包围的部分称为函数体，调用一个函数，实际上就是执行函数体中的代码。</p>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><p>在函数内部可以使用<code>$n</code>来接收，例如，$1 表示第一个参数，$2 表示第二个参数。</p>
<p>举例如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">! /bin/bash</span></span><br><span class="line">function f()</span><br><span class="line">&#123;</span><br><span class="line">	echo &quot;first para : $1&quot;</span><br><span class="line">	echo &quot;second para : $2&quot;</span><br><span class="line">&#125;</span><br><span class="line">f test1 test2</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/username">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="https://t.me/channel_name">
            <span class="icon">
              <i class="fab fa-telegram"></i>
            </span>

            <span class="label">Telegram</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/09/06/Linux/vim/" rel="prev" title="Vim使用">
      <i class="fa fa-chevron-left"></i> Vim使用
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/03/29/Leetcode%E5%91%A8%E8%B5%9B/%E7%AC%AC%20338%20%E5%9C%BA%E5%91%A8%E8%B5%9B/" rel="next" title="第 338 场周赛">
      第 338 场周赛 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Shell-%E7%BC%96%E7%A8%8B"><span class="nav-number">1.</span> <span class="nav-text">Shell 编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">1.1.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="nav-number">1.1.1.</span> <span class="nav-text">变量定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.1.2.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">获取字符串长度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">字符串拼接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">字符串截取</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B7%A6%E8%BE%B9%E5%BC%80%E5%A7%8B%E8%AE%A1%E6%95%B0"><span class="nav-number">1.1.2.3.1.</span> <span class="nav-text">从字符串左边开始计数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%8E%E5%8F%B3%E8%BE%B9%E5%BC%80%E5%A7%8B%E8%AE%A1%E6%95%B0"><span class="nav-number">1.1.2.3.2.</span> <span class="nav-text">从右边开始计数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%8E%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E5%BC%80%E5%A7%8B%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">1.1.2.3.3.</span> <span class="nav-text">从指定字符开始截取字符串</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">1.2.</span> <span class="nav-text">数组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89"><span class="nav-number">1.2.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="nav-number">1.2.2.</span> <span class="nav-text">获取数组元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6"><span class="nav-number">1.2.3.</span> <span class="nav-text">获取数组长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%8B%BC%E6%8E%A5"><span class="nav-number">1.2.4.</span> <span class="nav-text">数组拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%EF%BC%88%E5%85%83%E7%B4%A0%EF%BC%89"><span class="nav-number">1.2.5.</span> <span class="nav-text">删除数组（元素）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.</span> <span class="nav-text">内建命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#alisa-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.1.</span> <span class="nav-text">alisa 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#echo-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.2.</span> <span class="nav-text">echo 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.3.</span> <span class="nav-text">read 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#declare-%E5%91%BD%E4%BB%A4"><span class="nav-number">1.3.4.</span> <span class="nav-text">declare 命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97"><span class="nav-number">1.4.</span> <span class="nav-text">数学计算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C"><span class="nav-number">1.4.1.</span> <span class="nav-text">(())操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#let%E5%91%BD%E4%BB%A4"><span class="nav-number">1.4.2.</span> <span class="nav-text">let命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.5.</span> <span class="nav-text">判断语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if-elif-else-%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.5.1.</span> <span class="nav-text">if elif else 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#case-in%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.5.2.</span> <span class="nav-text">case in语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-number">1.6.</span> <span class="nav-text">循环语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="nav-number">1.6.1.</span> <span class="nav-text">for 循环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#C%E8%AF%AD%E8%A8%80%E9%A3%8E%E6%A0%BC%EF%BC%9A"><span class="nav-number">1.6.1.1.</span> <span class="nav-text">C语言风格：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#python%E9%A3%8E%E6%A0%BC"><span class="nav-number">1.6.1.2.</span> <span class="nav-text">python风格</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AF%B9-value-list-%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="nav-number">1.6.1.2.1.</span> <span class="nav-text">对 value_list 的说明</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E7%9B%B4%E6%8E%A5%E7%BB%99%E5%87%BA%E5%85%B7%E4%BD%93%E7%9A%84%E5%80%BC"><span class="nav-number">1.6.1.2.1.1.</span> <span class="nav-text">1. 直接给出具体的值</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E7%BB%99%E5%87%BA%E4%B8%80%E4%B8%AA%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4"><span class="nav-number">1.6.1.2.1.2.</span> <span class="nav-text">2. 给出一个取值范围</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E7%9A%84%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="nav-number">1.6.1.2.1.3.</span> <span class="nav-text">3. 使用命令的执行结果</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="nav-number">1.6.2.</span> <span class="nav-text">while循环</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#test%E5%91%BD%E4%BB%A4-%E4%B8%8E-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">1.7.</span> <span class="nav-text">test命令 与 [[]] 关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#test%E5%91%BD%E4%BB%A4"><span class="nav-number">1.7.1.</span> <span class="nav-text">test命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E%E6%96%87%E4%BB%B6%E6%A3%80%E6%B5%8B%E7%9B%B8%E5%85%B3%E7%9A%84-test-%E9%80%89%E9%A1%B9"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">与文件检测相关的 test 选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E%E6%95%B0%E5%80%BC%E6%AF%94%E8%BE%83%E7%9B%B8%E5%85%B3%E7%9A%84-test-%E9%80%89%E9%A1%B9"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">与数值比较相关的 test 选项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%A4%E6%96%AD%E7%9B%B8%E5%85%B3%E7%9A%84-test-%E9%80%89%E9%A1%B9"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">与字符串判断相关的 test 选项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4"><span class="nav-number">1.7.2.</span> <span class="nav-text">[[]] 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.7.2.1.</span> <span class="nav-text">[[ ]] 支持逻辑运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.7.2.2.</span> <span class="nav-text">[[ ]] 支持正则表达式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">1.8.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="nav-number">1.8.1.</span> <span class="nav-text">函数参数</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wenyi"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">wenyi</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wenyi</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
